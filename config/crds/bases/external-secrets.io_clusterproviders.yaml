apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.19.0
  name: clusterproviders.external-secrets.io
spec:
  group: external-secrets.io
  names:
    categories:
    - externalsecrets
    kind: ClusterProvider
    listKind: ClusterProviderList
    plural: clusterproviders
    shortNames:
    - cprov
    singular: clusterprovider
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[?(@.type=="Ready")].status
      name: Ready
      type: string
    - jsonPath: .spec.config.address
      name: Address
      type: string
    - jsonPath: .spec.authenticationScope
      name: AuthScope
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: |-
          ClusterProvider is the cluster-scoped variant of Provider.
          It can be referenced from ExternalSecrets and PushSecrets in any namespace.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: ClusterProviderSpec defines the desired state of ClusterProvider
            properties:
              authenticationScope:
                default: ProviderNamespace
                description: |-
                  AuthenticationScope defines which namespace should be used for authentication.
                  ProviderNamespace (default): uses the namespace from spec.config.providerRef.namespace
                  ManifestNamespace: uses the namespace of the ExternalSecret/PushSecret
                enum:
                - ProviderNamespace
                - ManifestNamespace
                type: string
              conditions:
                description: |-
                  Conditions constrain where this ClusterProvider can be used from.
                  Conditions are evaluated against the namespace of the ExternalSecret/PushSecret.
                items:
                  description: |-
                    ClusterSecretStoreCondition describes a condition by which to choose namespaces to process ExternalSecrets in
                    for a ClusterSecretStore instance.
                  properties:
                    namespaceRegexes:
                      description: Choose namespaces by using regex matching
                      items:
                        type: string
                      type: array
                    namespaceSelector:
                      description: Choose namespace using a labelSelector
                      properties:
                        matchExpressions:
                          description: matchExpressions is a list of label selector
                            requirements. The requirements are ANDed.
                          items:
                            description: |-
                              A label selector requirement is a selector that contains values, a key, and an operator that
                              relates the key and values.
                            properties:
                              key:
                                description: key is the label key that the selector
                                  applies to.
                                type: string
                              operator:
                                description: |-
                                  operator represents a key's relationship to a set of values.
                                  Valid operators are In, NotIn, Exists and DoesNotExist.
                                type: string
                              values:
                                description: |-
                                  values is an array of string values. If the operator is In or NotIn,
                                  the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                  the values array must be empty. This array is replaced during a strategic
                                  merge patch.
                                items:
                                  type: string
                                type: array
                                x-kubernetes-list-type: atomic
                            required:
                            - key
                            - operator
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                        matchLabels:
                          additionalProperties:
                            type: string
                          description: |-
                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                          type: object
                      type: object
                      x-kubernetes-map-type: atomic
                    namespaces:
                      description: Choose namespaces by name
                      items:
                        maxLength: 63
                        minLength: 1
                        pattern: ^[a-z0-9]([-a-z0-9]*[a-z0-9])?$
                        type: string
                      type: array
                  type: object
                type: array
              config:
                description: Config contains configuration for connecting to the provider.
                properties:
                  address:
                    description: |-
                      Address is the gRPC address of the provider service.
                      Format: "hostname:port" (e.g., "aws-provider:8080")
                    type: string
                  providerRef:
                    description: ProviderRef references the provider-specific configuration
                      resource.
                    properties:
                      apiVersion:
                        description: |-
                          APIVersion of the referenced resource.
                          Example: "provider.aws.external-secrets.io/v2alpha1"
                        type: string
                      kind:
                        description: |-
                          Kind of the referenced resource.
                          Example: "AWSSecretsManager"
                        type: string
                      name:
                        description: Name of the referenced resource.
                        type: string
                      namespace:
                        description: |-
                          Namespace of the referenced resource.
                          If empty, assumes the same namespace as the Provider.
                        type: string
                    required:
                    - apiVersion
                    - kind
                    - name
                    type: object
                required:
                - address
                - providerRef
                type: object
            required:
            - config
            type: object
          status:
            description: ProviderStatus defines the observed state of Provider
            properties:
              capabilities:
                description: Capabilities indicates what operations this Provider
                  supports.
                type: string
              conditions:
                description: Conditions represent the latest available observations
                  of the Provider's state.
                items:
                  description: ProviderCondition describes the state of a Provider
                    at a certain point.
                  properties:
                    lastTransitionTime:
                      description: LastTransitionTime is the last time the condition
                        transitioned.
                      format: date-time
                      type: string
                    message:
                      description: Message is a human-readable message indicating
                        details about the transition.
                      type: string
                    reason:
                      description: Reason contains a programmatic identifier indicating
                        the reason for the condition's last transition.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type of the condition.
                      type: string
                  required:
                  - status
                  - type
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
