apiVersion: external-secrets.io/v1alpha1
kind: PushSecret
metadata:
  name: pushsecret-datafrom-rewrite
  namespace: default
spec:
  refreshInterval: 10s
  secretStoreRefs:
    - name: secret-store
      kind: SecretStore
  selector:
    secret:
      name: source-secret
  # Push keys with transformation
  dataFrom:
    - match:
        regexp: "^db-.*"
      rewrite:
        - regexp:
            source: "^db-"
            target: "myapp/database/"
      # db-host -> myapp/database/host
      # db-port -> myapp/database/port
