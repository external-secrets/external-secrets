apiVersion: external-secrets.io/v1alpha1
kind: PushSecret
metadata:
  name: pushsecret-datafrom-template
  namespace: default
spec:
  refreshInterval: 10s
  secretStoreRefs:
    - name: secret-store
      kind: SecretStore
  selector:
    secret:
      name: source-secret
  # Use Go templates to transform keys
  dataTo:
    - rewrite:
        - transform:
            template: "secrets/{{ .value | upper }}"
      # username -> secrets/USERNAME
      # password -> secrets/PASSWORD
